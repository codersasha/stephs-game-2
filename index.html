<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Warrior Cats 2: Medicine Cats</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="game-container">
        <!-- Home Screen -->
        <div id="home-screen" class="screen active">
            <div class="forest-bg"></div>
            <div id="stars-container" class="stars-home"></div>
            <div class="title-container">
                <div class="cat-icon">ğŸ±</div>
                <h1 class="game-title">Warrior Cats 2</h1>
                <h2 class="game-subtitle">Medicine Cats</h2>
                <p class="tagline">Heal your Clanmates with the power of herbs</p>
            </div>
            <div class="home-buttons">
                <button id="learn-btn" class="btn btn-learn">
                    ğŸ“š Learn to be a Medicine Cat
                </button>
                <button id="play-btn" class="btn btn-play">
                    âœ¨ Play Game âœ¨
                </button>
            </div>
            <p class="hint-text">Try clicking the stars above...</p>
            <div class="leaf-decorations">
                <span class="leaf">ğŸƒ</span>
                <span class="leaf">ğŸŒ¿</span>
                <span class="leaf">ğŸ‚</span>
            </div>
        </div>

        <!-- Tutorial/Learning Screen -->
        <div id="tutorial-screen" class="screen">
            <div class="forest-bg"></div>
            <div class="tutorial-content">
                <div class="mentor-section">
                    <div class="mentor-cat">ğŸ˜º</div>
                    <div class="mentor-info">
                        <h2>Healingheart</h2>
                        <p class="mentor-title">Medicine Cat Mentor</p>
                    </div>
                </div>
                <div class="mentor-speech" id="mentor-speech">
                    <p>"Welcome, young one! I am Healingheart, and I will teach you the ways of a medicine cat."</p>
                </div>
                <div class="tutorial-options" id="tutorial-options">
                    <p>Choose how you'd like to learn:</p>
                    <button class="btn btn-tutorial" data-level="easy">
                        ğŸŒ¸ Easy Herbs
                        <span>Learn simple remedies first</span>
                    </button>
                    <button class="btn btn-tutorial" data-level="medium">
                        ğŸŒ¿ Medium Herbs
                        <span>Learn moderate treatments</span>
                    </button>
                    <button class="btn btn-tutorial" data-level="hard">
                        ğŸŒ‘ Hard Herbs
                        <span>Learn complex medicine</span>
                    </button>
                </div>
                <div class="tutorial-lesson" id="tutorial-lesson" style="display: none;">
                    <div class="herb-teaching">
                        <span class="teaching-herb-icon" id="teaching-herb-icon">ğŸŒ¿</span>
                        <h3 id="teaching-herb-name">Catmint</h3>
                        <p id="teaching-herb-use">Cures greencough</p>
                    </div>
                    <div class="lesson-controls">
                        <button id="next-herb-btn" class="btn btn-secondary">Next Herb â†’</button>
                        <button id="practice-btn" class="btn btn-primary">ğŸ¯ Practice</button>
                    </div>
                </div>
                <div class="tutorial-practice" id="tutorial-practice" style="display: none;">
                    <p class="practice-question" id="practice-question">What herb cures greencough?</p>
                    <div class="practice-options" id="practice-options">
                        <!-- Options will be added by JS -->
                    </div>
                    <p class="practice-feedback" id="practice-feedback"></p>
                </div>
                <div class="tutorial-bottom">
                    <button id="back-to-menu-btn" class="btn btn-secondary">â† Back to Menu</button>
                    <button id="im-ready-btn" class="btn btn-ready" style="display: none;">
                        âœ¨ I'm Ready! âœ¨
                    </button>
                </div>
            </div>
        </div>

        <!-- Save Slot Selection Screen -->
        <div id="saves-screen" class="screen">
            <div class="forest-bg"></div>
            <div class="saves-content">
                <h1>ğŸ® Choose a Save Slot</h1>
                <p class="saves-intro">You can have up to 3 medicine cats!</p>
                <div class="save-slots">
                    <div class="save-slot" data-slot="1">
                        <div class="slot-icon" id="slot-icon-1">ğŸ±</div>
                        <div class="slot-info">
                            <h3 id="slot-name-1">Empty Slot</h3>
                            <p id="slot-details-1">Start a new adventure</p>
                        </div>
                        <div class="slot-actions">
                            <button class="btn-slot-play" data-slot="1">Play</button>
                            <button class="btn-slot-delete" data-slot="1" style="display: none;">ğŸ—‘ï¸</button>
                        </div>
                    </div>
                    <div class="save-slot" data-slot="2">
                        <div class="slot-icon" id="slot-icon-2">ğŸ±</div>
                        <div class="slot-info">
                            <h3 id="slot-name-2">Empty Slot</h3>
                            <p id="slot-details-2">Start a new adventure</p>
                        </div>
                        <div class="slot-actions">
                            <button class="btn-slot-play" data-slot="2">Play</button>
                            <button class="btn-slot-delete" data-slot="2" style="display: none;">ğŸ—‘ï¸</button>
                        </div>
                    </div>
                    <div class="save-slot" data-slot="3">
                        <div class="slot-icon" id="slot-icon-3">ğŸ±</div>
                        <div class="slot-info">
                            <h3 id="slot-name-3">Empty Slot</h3>
                            <p id="slot-details-3">Start a new adventure</p>
                        </div>
                        <div class="slot-actions">
                            <button class="btn-slot-play" data-slot="3">Play</button>
                            <button class="btn-slot-delete" data-slot="3" style="display: none;">ğŸ—‘ï¸</button>
                        </div>
                    </div>
                </div>
                <button id="saves-back-btn" class="btn btn-secondary">â† Back to Menu</button>
            </div>
        </div>

        <!-- Name Selection -->
        <div id="name-screen" class="screen">
            <div class="forest-bg"></div>
            <div class="name-content">
                <h1>ğŸ± Name Your Medicine Cat</h1>
                <p class="name-intro">Every medicine cat needs a warrior name!</p>
                
                <div class="name-builder">
                    <div class="name-prefix-section">
                        <label for="name-prefix">First part of your name:</label>
                        <input type="text" id="name-prefix" placeholder="Fire, Silver, Leaf..." maxlength="12" autocomplete="off">
                    </div>
                    
                    <div class="cat-customize-section">
                        <label>Customize your cat:</label>
                        <div class="customize-row">
                            <div class="customize-group">
                                <span class="customize-label">Fur Color:</span>
                                <div id="fur-colors" class="color-options">
                                    <button class="color-btn selected" data-fur="ğŸ±" data-color="orange">ğŸ±</button>
                                    <button class="color-btn" data-fur="ğŸˆ" data-color="black">ğŸˆ</button>
                                    <button class="color-btn" data-fur="ğŸˆâ€â¬›" data-color="black2">ğŸˆâ€â¬›</button>
                                    <button class="color-btn" data-fur="ğŸ˜º" data-color="happy">ğŸ˜º</button>
                                    <button class="color-btn" data-fur="ğŸ˜¸" data-color="grin">ğŸ˜¸</button>
                                    <button class="color-btn" data-fur="ğŸ˜»" data-color="love">ğŸ˜»</button>
                                </div>
                            </div>
                            <div class="customize-group">
                                <span class="customize-label">Pattern:</span>
                                <div id="patterns" class="pattern-options">
                                    <button class="pattern-btn selected" data-pattern="solid">Solid</button>
                                    <button class="pattern-btn" data-pattern="tabby">Tabby</button>
                                    <button class="pattern-btn" data-pattern="spotted">Spotted</button>
                                    <button class="pattern-btn" data-pattern="patches">Patches</button>
                                </div>
                            </div>
                        </div>
                        <div class="cat-preview">
                            <span id="cat-preview-icon" class="cat-preview-icon">ğŸ±</span>
                            <span id="pattern-preview" class="pattern-preview"></span>
                        </div>
                    </div>
                    
                    <div class="name-suffix-section">
                        <label>Choose your suffix:</label>
                        <div id="suffix-grid" class="suffix-grid">
                            <button class="suffix-btn" data-suffix="claw">claw</button>
                            <button class="suffix-btn" data-suffix="heart">heart</button>
                            <button class="suffix-btn" data-suffix="shine">shine</button>
                            <button class="suffix-btn" data-suffix="stream">stream</button>
                            <button class="suffix-btn" data-suffix="flight">flight</button>
                            <button class="suffix-btn" data-suffix="leaf">leaf</button>
                            <button class="suffix-btn" data-suffix="step">step</button>
                            <button class="suffix-btn" data-suffix="foot">foot</button>
                            <button class="suffix-btn" data-suffix="fur">fur</button>
                            <button class="suffix-btn" data-suffix="sky">sky</button>
                            <button class="suffix-btn" data-suffix="storm">storm</button>
                            <button class="suffix-btn" data-suffix="pool">pool</button>
                            <button class="suffix-btn" data-suffix="whisker">whisker</button>
                            <button class="suffix-btn" data-suffix="tail">tail</button>
                            <button class="suffix-btn" data-suffix="pelt">pelt</button>
                            <button class="suffix-btn" data-suffix="fang">fang</button>
                            <button class="suffix-btn" data-suffix="berry">berry</button>
                            <button class="suffix-btn" data-suffix="nose">nose</button>
                            <button class="suffix-btn" data-suffix="flower">flower</button>
                            <button class="suffix-btn" data-suffix="feather">feather</button>
                            <button class="suffix-btn" data-suffix="wing">wing</button>
                            <button class="suffix-btn" data-suffix="cloud">cloud</button>
                            <button class="suffix-btn" data-suffix="spots">spots</button>
                            <button class="suffix-btn" data-suffix="stripe">stripe</button>
                        </div>
                    </div>
                    
                    <div class="name-preview">
                        <p>Your name will be:</p>
                        <h2 id="full-name-preview">___paw</h2>
                        <p class="name-hint">(Medicine cat apprentices end in 'paw' until they earn their full name!)</p>
                    </div>
                </div>
                
                <button id="confirm-name-btn" class="btn btn-primary" disabled>
                    âœ¨ Begin Training âœ¨
                </button>
            </div>
        </div>

        <!-- Difficulty Selection -->
        <div id="difficulty-screen" class="screen">
            <div class="forest-bg"></div>
            <h1>Choose Your Path</h1>
            <p class="difficulty-intro" id="difficulty-greeting">How challenging should your medicine cat training be?</p>
            <div class="difficulty-buttons">
                <button class="btn btn-difficulty" data-difficulty="easy">
                    <span class="diff-icon">ğŸŒ¸</span>
                    <span class="diff-name">Easy</span>
                    <span class="diff-desc">Simple sicknesses like bellyache and sore pads</span>
                </button>
                <button class="btn btn-difficulty" data-difficulty="medium">
                    <span class="diff-icon">ğŸŒ¿</span>
                    <span class="diff-name">Medium</span>
                    <span class="diff-desc">Wounds, shock, and more tricky ailments</span>
                </button>
                <button class="btn btn-difficulty" data-difficulty="hard">
                    <span class="diff-icon">ğŸŒ‘</span>
                    <span class="diff-name">Hard</span>
                    <span class="diff-desc">Greencough, infections, and serious illness</span>
                </button>
            </div>
        </div>

        <!-- Main Game Screen -->
        <div id="game-screen" class="screen">
            <div class="game-header">
                <div class="stat">
                    <span class="stat-icon">ğŸŒ™</span>
                    <span class="stat-label">Night</span>
                    <span id="night-count" class="stat-value">1</span>
                </div>
                <div class="stat">
                    <span class="stat-icon">â­</span>
                    <span class="stat-label">Score</span>
                    <span id="score-count" class="stat-value">0</span>
                </div>
                <div class="stat reputation-stat">
                    <span class="stat-icon">â¤ï¸</span>
                    <span class="stat-label">Reputation</span>
                    <div class="reputation-bar">
                        <div id="reputation-fill" class="reputation-fill" style="width: 100%"></div>
                    </div>
                </div>
            </div>

            <div class="patient-area">
                <div id="patient-card" class="patient-card">
                    <div class="patient-icon" id="patient-icon">ğŸ±</div>
                    <h2 id="patient-name">Waiting for patient...</h2>
                    <p id="patient-ailment" class="ailment-text"></p>
                </div>
                <!-- Apprentice hint bubble -->
                <div id="apprentice-hint" class="apprentice-hint" style="display: none;">
                    <div class="hint-bubble">
                        <span class="hint-cat">ğŸ±</span>
                        <div class="hint-content">
                            <span class="hint-name" id="hint-apprentice-name">Mosspaw</span>
                            <p id="hint-text">"Maybe we should try cobwebs?"</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="treatment-area">
                <h3>Selected Herbs <span id="herb-count">(0/3)</span></h3>
                <div id="selected-herbs" class="selected-herbs">
                    <p class="empty-selection">Tap herbs below to select them</p>
                </div>
                <button id="treat-btn" class="btn btn-treat" disabled>
                    ğŸŒ¿ Give Treatment
                </button>
            </div>

            <div class="herb-area">
                <h3>Available Herbs</h3>
                <p class="herb-subtitle">Warriors brought these herbs today</p>
                <div id="herb-grid" class="herb-grid">
                    <!-- Herbs will be added here by JS -->
                </div>
            </div>
        </div>

        <!-- Rest/Sleep Screen (between nights) -->
        <div id="rest-screen" class="screen">
            <div class="night-sky"></div>
            <div class="sleep-content">
                <div class="sleeping-cat">
                    <span id="sleeping-cat-icon" class="sleeping-cat-icon">ğŸ±</span>
                    <span class="zzz">ğŸ’¤</span>
                </div>
                <h1>ğŸŒ™ Time to Sleep</h1>
                <p class="rest-summary">You curl up in your nest after a long night...</p>
                <div class="night-stats">
                    <div class="night-stat">
                        <span class="stat-icon">ğŸ’š</span>
                        <span id="cats-healed">0</span> cats healed
                    </div>
                    <div class="night-stat">
                        <span class="stat-icon">ğŸ’”</span>
                        <span id="cats-lost">0</span> cats lost
                    </div>
                </div>
                <p class="rest-message" id="rest-message">Close your eyes and let StarClan guide your dreams...</p>
                <button id="sleep-btn" class="btn btn-sleep">
                    ğŸ˜´ Fall Asleep...
                </button>
            </div>
            <div class="stars-container">
                <span class="star">âœ¨</span>
                <span class="star">â­</span>
                <span class="star">âœ¨</span>
                <span class="star">â­</span>
                <span class="star">âœ¨</span>
            </div>
        </div>
        
        <!-- Dream/Wake Screen -->
        <div id="dream-screen" class="screen">
            <div class="night-sky dreamy"></div>
            <div class="dream-content" id="dream-content">
                <!-- Will be filled with StarClan message or peaceful sleep -->
            </div>
        </div>

        <!-- Invasion Modal -->
        <div id="invasion-modal" class="modal">
            <div class="modal-content invasion-content">
                <div class="invasion-icon" id="invasion-icon">âš”ï¸</div>
                <h2>INVASION!</h2>
                <p class="invasion-message" id="invasion-message">Enemy warriors are attacking!</p>
                <div class="invasion-result" id="invasion-result">
                    <!-- Result will be shown here -->
                </div>
                <button id="invasion-continue-btn" class="btn btn-primary">
                    Continue
                </button>
            </div>
        </div>

        <!-- Apprentice Arrival Modal -->
        <div id="apprentice-modal" class="modal">
            <div class="modal-content apprentice-content">
                <div class="apprentice-icon">ğŸ±âœ¨</div>
                <h2>A New Apprentice!</h2>
                <p class="apprentice-announce">The Clan leader has assigned you an apprentice!</p>
                <div class="apprentice-box">
                    <h3 id="apprentice-name">Mosspaw</h3>
                    <p id="apprentice-personality">is curious and eager to learn</p>
                </div>
                <p class="apprentice-info">Your apprentice will sometimes give you hints about which herbs to use!</p>
                <button id="welcome-apprentice-btn" class="btn btn-primary">
                    Welcome to the den! ğŸŒ¿
                </button>
            </div>
        </div>

        <!-- StarClan Message Modal -->
        <div id="starclan-modal" class="modal">
            <div class="modal-content starclan-content">
                <div class="starclan-stars">âœ¨â­âœ¨</div>
                <h2>A Message from StarClan</h2>
                <p class="starclan-sender">ğŸ’« <span id="starclan-sender">Bluestar</span> speaks to you...</p>
                <div class="prophecy-box">
                    <p id="starclan-message">"Beware the shadow..."</p>
                </div>
                <p class="sharing-prompt">What will you do with this prophecy?</p>
                <div class="sharing-buttons">
                    <button class="btn-share" data-choice="secret">
                        <span class="share-icon">ğŸ¤«</span>
                        <span class="share-name">Keep it secret</span>
                    </button>
                    <button class="btn-share" data-choice="onecat">
                        <span class="share-icon">ğŸ±</span>
                        <span class="share-name">Tell one friend</span>
                    </button>
                    <button class="btn-share" data-choice="leader">
                        <span class="share-icon">ğŸ‘‘</span>
                        <span class="share-name">Tell the leader</span>
                    </button>
                    <button class="btn-share" data-choice="clan">
                        <span class="share-icon">ğŸ“¢</span>
                        <span class="share-name">Tell the Clan</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- StarClan Response Modal -->
        <div id="starclan-response-modal" class="modal">
            <div class="modal-content">
                <div class="result-icon" id="share-result-icon">âœ¨</div>
                <h2 id="share-result-title">Message Shared</h2>
                <p id="share-result-message"></p>
                <button id="starclan-continue-btn" class="btn btn-primary">Continue</button>
            </div>
        </div>

        <!-- Result Modal -->
        <div id="result-modal" class="modal">
            <div class="modal-content">
                <div id="result-icon" class="result-icon">ğŸ’š</div>
                <h2 id="result-title">Treatment Result</h2>
                <p id="result-message"></p>
                <div id="result-details" class="result-details"></div>
                <button id="continue-btn" class="btn btn-primary">Continue</button>
            </div>
        </div>

        <!-- Game Over Screen -->
        <div id="gameover-screen" class="screen">
            <div class="gameover-content">
                <h1>ğŸ˜¿ Game Over</h1>
                <p>Your reputation as a medicine cat has fallen too low.</p>
                <p>The Clan no longer trusts you to heal them.</p>
                <div class="final-stats">
                    <p><span class="stat-icon">â­</span> Final Score: <span id="final-score">0</span></p>
                    <p><span class="stat-icon">ğŸ’š</span> Cats Healed: <span id="final-healed">0</span></p>
                    <p><span class="stat-icon">ğŸŒ™</span> Nights Survived: <span id="final-nights">0</span></p>
                </div>
                <button id="play-again-btn" class="btn btn-primary">
                    ğŸ”„ Try Again
                </button>
            </div>
        </div>
    </div>

    <script src="js/game-logic.js"></script>
    <script src="js/game.js"></script>
</body>
</html>
